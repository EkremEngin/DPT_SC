# Disaster Recovery Drill Logs

This directory contains automated drill test reports generated by the monthly disaster recovery drill.

## File Format

Each drill report is a JSON file named `drill-YYYY-MM-DD.json` with the following structure:

```json
{
  "timestamp": "2026-02-18T20:00:00.000Z",
  "success": true,
  "restoreTimeSeconds": 245.5,
  "totalTimeSeconds": 287.3,
  "backupFile": "/var/backups/dpt-local/latest.sql.gz",
  "testDatabase": "dpt_restore_test",
  "targetRTOSeconds": 900,
  "passedRTO": true,
  "verificationChecks": {
    "companiesCount": 150,
    "unitsCount": 4500,
    "campusesCount": 25,
    "blocksCount": 125,
    "leasesCount": 120,
    "auditLogsCount": 5000,
    "usersCount": 50
  },
  "integrityChecks": {
    "orphanedUnits": 0,
    "orphanedLeases": 0,
    "duplicateUsers": 0
  },
  "errors": [],
  "warnings": []
}
```

## Generating Drill Reports

Run the drill test with report output:

```bash
npm run drill:restore -- --report=docs/drill-logs/drill-$(date +%Y-%m-%d).json
```

## Tracking

| Month | Status | RTO (s) | Issues | Link |
|-------|--------|---------|-------|------|
| 2026-02 | Pending | - | - | - |

## Notes

- Target RTO: 900 seconds (15 minutes)
- All drills should complete within target RTO
- Investigate any warnings or errors in the report
